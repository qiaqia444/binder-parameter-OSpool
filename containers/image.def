Bootstrap: docker
From: julia:1.11

%files
   Project.toml /opt/julia/environments/v1.11/
   Manifest.toml /opt/julia/environments/v1.11/

%post
    # Install any needed system packages first
    apt-get update -y
    apt-get install -y wget \
            git \
            cmake \
            g++

    # Install Julia packages
    export JULIA_DEPOT_PATH="/opt/julia"
    julia -e 'using Pkg; Pkg.instantiate(); Pkg.precompile()'

%environment
    export JULIA_DEPOT_PATH=":/opt/Julia"
